{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from 'react';\n\nvar AuthContext = function AuthContext() {\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn(data) {\n        return _regeneratorRuntime.async(function signIn$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                savedID = data.id;\n                fetch('http://localhost:3000/api/auth/login', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(data)\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  saveTokenAsync(data.accessToken);\n                  accessToken = data.accessToken;\n                  console.log(\"Success: \", data);\n                }).catch(function (error) {\n                  console.error('Error: ', error);\n                });\n                dispatch({\n                  type: 'SIGN_IN',\n                  token: accessToken\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      signOut: function signOut() {\n        return dispatch({\n          type: 'SIGN_OUT'\n        });\n      },\n      signUp: function signUp(data) {\n        return _regeneratorRuntime.async(function signUp$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch({\n                  type: 'SIGN_IN',\n                  token: 'dummy-auth-token'\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    };\n  }, []);\n};\n\nexport default AuthContext;","map":{"version":3,"sources":["D:/Documents/GitHub/CMPS4910-Senior-Project/contact-tracing-app/hooks/authContext.js"],"names":["React","AuthContext","authContext","useMemo","signIn","data","savedID","id","fetch","method","headers","body","JSON","stringify","then","response","json","saveTokenAsync","accessToken","console","log","catch","error","dispatch","type","token","signOut","signUp"],"mappings":";AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,MAAMC,WAAW,GAAGF,KAAK,CAACG,OAAN,CAChB;AAAA,WACI;AACIC,MAAAA,MAAM,EAAE,gBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAEJC,gBAAAA,OAAO,GAAGD,IAAI,CAACE,EAAf;AAEAC,gBAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC1CC,kBAAAA,MAAM,EAAE,MADkC;AAE1CC,kBAAAA,OAAO,EAAE;AACL,oCAAgB;AADX,mBAFiC;AAK1CC,kBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AALoC,iBAAzC,CAAL,CAOKS,IAPL,CAOU,UAAAC,QAAQ;AAAA,yBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,iBAPlB,EAQKF,IARL,CAQU,UAAAT,IAAI,EAAI;AACVY,kBAAAA,cAAc,CAACZ,IAAI,CAACa,WAAN,CAAd;AACAA,kBAAAA,WAAW,GAAGb,IAAI,CAACa,WAAnB;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBf,IAAzB;AAEH,iBAbL,EAcKgB,KAdL,CAcW,UAACC,KAAD,EAAW;AACdH,kBAAAA,OAAO,CAACG,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACH,iBAhBL;AAiBAC,gBAAAA,QAAQ,CAAC;AAAEC,kBAAAA,IAAI,EAAE,SAAR;AAAmBC,kBAAAA,KAAK,EAAEP;AAA1B,iBAAD,CAAR;;AArBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADZ;AAwBIQ,MAAAA,OAAO,EAAE;AAAA,eAAMH,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAd;AAAA,OAxBb;AAyBIG,MAAAA,MAAM,EAAE,gBAAMtB,IAAN;AAAA;AAAA;AAAA;AAAA;AACJkB,gBAAAA,QAAQ,CAAC;AAAEC,kBAAAA,IAAI,EAAE,SAAR;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAAD,CAAR;;AADI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzBZ,KADJ;AAAA,GADgB,EA+BhB,EA/BgB,CAApB;AAiCH,CAlCD;;AAqCA,eAAexB,WAAf","sourcesContent":["\r\nimport * as React from 'react';\r\nconst AuthContext = () => {\r\n    const authContext = React.useMemo(\r\n        () => (\r\n            {\r\n                signIn: async data => {\r\n                    //send sign in data here\r\n                    savedID = data.id\r\n    \r\n                    fetch('http://localhost:3000/api/auth/login', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data),\r\n                    })\r\n                        .then(response => response.json())\r\n                        .then(data => {\r\n                            saveTokenAsync(data.accessToken);\r\n                            accessToken = data.accessToken;\r\n                            console.log(\"Success: \", data);\r\n    \r\n                        })\r\n                        .catch((error) => {\r\n                            console.error('Error: ', error);\r\n                        });\r\n                    dispatch({ type: 'SIGN_IN', token: accessToken });\r\n                },\r\n                signOut: () => dispatch({ type: 'SIGN_OUT' }),\r\n                signUp: async data => {\r\n                    dispatch({ type: 'SIGN_IN', token: 'dummy-auth-token' });\r\n                },\r\n            }),\r\n        []\r\n    );\r\n}\r\n\r\n\r\nexport default AuthContext;"]},"metadata":{},"sourceType":"module"}